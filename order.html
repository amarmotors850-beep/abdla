<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ | Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù„Ù„Ø³ÙŠØ§Ø±Ø§Øª</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #c53030;
            --primary-dark: #9b2c2c;
            --secondary: #0a0a0a;
            --light: #f7fafc;
            --gray: #a0aec0;
            --dark-gray: #4a5568;
            --white: #ffffff;
            --success: #38a169;
            --warning: #ed8936;
            --danger: #e53e3e;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif !important;
            background-color: var(--white);
            color: var(--secondary);
            overflow-x: hidden;
            text-align: right;
        }

        /* Loading Screen */
        #loadingScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        #loadingVideo {
            width: 200px;
            height: 200px;
            object-fit: contain;
            margin-bottom: 2rem;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 3px solid rgba(255, 255, 255, 0.3);
            padding: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .loading-bar-container {
            width: 300px;
            height: 6px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .loading-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--primary), var(--primary-dark));
            animation: loadingAnimation 2s ease-in-out forwards;
        }

        @keyframes loadingAnimation {
            0% { width: 0%; }
            50% { width: 60%; }
            100% { width: 100%; }
        }

        /* Navigation */
        .order-nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.5rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid var(--primary);
        }

        .back-button {
            color: var(--primary);
            text-decoration: none;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-family: 'Cairo', sans-serif !important;
            font-weight: 600;
        }

        .back-button:hover {
            background: rgba(197, 48, 48, 0.1);
        }

        .nav-logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
        }

        .nav-logo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
            border: 2px solid var(--primary);
            box-shadow: 0 0 20px rgba(197, 48, 48, 0.2);
            animation: pulseLogo 2s infinite;
        }

        @keyframes pulseLogo {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(197, 48, 48, 0.3);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 40px rgba(197, 48, 48, 0.5);
                transform: scale(1.05);
            }
        }

        .nav-logo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .logo-text {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--secondary);
            font-family: 'Cairo', sans-serif !important;
        }

        .logo-text span {
            color: var(--primary);
        }

        /* Order Container */
        .order-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 8rem 2rem 4rem;
        }

        @media (max-width: 768px) {
            .order-container {
                padding: 6rem 1rem 2rem;
            }
        }

        /* Order Header */
        .order-header {
            text-align: center;
            margin-bottom: 4rem;
            position: relative;
            overflow: hidden;
            padding: 2rem;
            border-radius: 20px;
            border: 2px solid transparent;
            background: var(--light);
            box-shadow: 0 10px 30px rgba(197, 48, 48, 0.1);
        }

        .order-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid transparent;
            border-radius: 20px;
            background: linear-gradient(45deg, var(--primary), var(--primary-dark)) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: rotateBorder 3s linear infinite;
        }

        @keyframes rotateBorder {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 200% 50%; }
        }

        .order-title {
            font-size: 3rem;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        @media (max-width: 768px) {
            .order-title {
                font-size: 2rem;
            }
        }

        .order-subtitle {
            font-size: 1.2rem;
            color: var(--dark-gray);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }

        /* Order Content */
        .order-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 4rem;
        }

        @media (max-width: 992px) {
            .order-content {
                grid-template-columns: 1fr;
            }
        }

        /* Order Form */
        .order-form {
            background: var(--light);
            padding: 3rem;
            border-radius: 20px;
            border: 2px solid var(--primary);
            box-shadow: 0 10px 30px rgba(197, 48, 48, 0.1);
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .order-form {
                padding: 2rem;
            }
        }

        .order-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid transparent;
            border-radius: 20px;
            background: linear-gradient(45deg, var(--primary), var(--primary-dark)) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: rotateBorder 3s linear infinite;
        }

        .form-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary);
            position: relative;
            z-index: 1;
        }

        .form-group {
            margin-bottom: 2rem;
            position: relative;
            z-index: 1;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: var(--secondary);
            margin-bottom: 0.8rem;
            font-size: 1rem;
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: 1rem;
            background: var(--white);
            border: 2px solid #e2e8f0;
            color: var(--secondary);
            font-family: 'Cairo', sans-serif !important;
            font-size: 1rem;
            border-radius: 10px;
            transition: var(--transition);
            position: relative;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(197, 48, 48, 0.2);
        }

        .form-textarea {
            height: 120px;
            resize: vertical;
        }

        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23c53030' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: left 1rem center;
            padding-left: 3rem;
        }

        .form-required {
            color: var(--danger);
        }

        /* Payment Method */
        .payment-method {
            margin: 2rem 0;
        }

        .payment-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        @media (max-width: 576px) {
            .payment-options {
                grid-template-columns: 1fr;
            }
        }

        .payment-option {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            background: white;
        }

        .payment-option:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
        }

        .payment-option.selected {
            border-color: var(--primary);
            background: rgba(197, 48, 48, 0.1);
        }

        .payment-icon {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .payment-label {
            font-weight: 600;
            color: var(--secondary);
        }

        /* Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ø³ÙŠØ· */
        .installment-section {
            margin: 2rem 0;
            padding: 1.5rem;
            background: rgba(197, 48, 48, 0.1);
            border-radius: 10px;
            border: 2px solid var(--primary);
            display: none;
        }

        .installment-section.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .installment-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .installment-option {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .installment-option:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(197, 48, 48, 0.1);
        }

        .installment-option.selected {
            border-color: var(--primary);
            background: rgba(197, 48, 48, 0.1);
        }

        .installment-details {
            margin-top: 1.5rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            border: 1px solid var(--primary);
            display: none;
        }

        .installment-details.show {
            display: block;
        }

        /* Form Buttons */
        .form-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 2px solid var(--primary);
            position: relative;
            z-index: 1;
        }

        @media (max-width: 768px) {
            .form-buttons {
                flex-direction: column;
            }
        }

        .submit-button {
            flex: 1;
            padding: 1.2rem;
            background: linear-gradient(45deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(197, 48, 48, 0.2);
            position: relative;
            overflow: hidden;
            font-family: 'Cairo', sans-serif !important;
        }

        .submit-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .submit-button:hover::before {
            left: 100%;
        }

        .submit-button:hover:not(:disabled) {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(197, 48, 48, 0.3);
        }

        .submit-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .reset-button {
            padding: 1.2rem 2.5rem;
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            font-family: 'Cairo', sans-serif !important;
        }

        .reset-button:hover {
            background: rgba(197, 48, 48, 0.1);
        }

        /* Order Summary */
        .order-summary {
            background: var(--light);
            padding: 2.5rem;
            border-radius: 20px;
            border: 2px solid var(--primary);
            box-shadow: 0 10px 30px rgba(197, 48, 48, 0.1);
            height: fit-content;
            position: sticky;
            top: 120px;
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 992px) {
            .order-summary {
                position: static;
            }
        }

        .order-summary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid transparent;
            border-radius: 20px;
            background: linear-gradient(45deg, var(--primary), var(--primary-dark)) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: rotateBorder 3s linear infinite;
        }

        .summary-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary);
            position: relative;
            z-index: 1;
        }

        .product-preview {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 2px solid var(--primary);
            position: relative;
            z-index: 1;
        }

        @media (max-width: 480px) {
            .product-preview {
                flex-direction: column;
                text-align: center;
            }
        }

        .product-image {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 10px;
            background: var(--white);
            border: 2px solid var(--primary);
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 480px) {
            .product-image {
                width: 100%;
                height: 200px;
            }
        }

        .product-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid transparent;
            border-radius: 10px;
            background: linear-gradient(45deg, var(--primary), var(--primary-dark)) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: rotateBorder 3s linear infinite;
        }

        .product-details {
            flex: 1;
            position: relative;
            z-index: 1;
        }

        .product-name {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--secondary);
            margin-bottom: 0.5rem;
        }

        .product-price {
            font-size: 1.5rem;
            color: var(--primary);
            font-weight: 700;
        }

        .summary-items {
            margin-bottom: 2rem;
            position: relative;
            z-index: 1;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            color: var(--dark-gray);
        }

        .summary-label {
            font-weight: 500;
        }

        .summary-value {
            font-weight: 600;
            color: var(--secondary);
        }

        .summary-total {
            display: flex;
            justify-content: space-between;
            padding-top: 1.5rem;
            border-top: 2px solid var(--primary);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            position: relative;
            z-index: 1;
        }

        /* Product Selection */
        .product-selection {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: var(--white);
            border-radius: 10px;
            border: 2px solid var(--primary);
            position: relative;
            z-index: 1;
        }

        .products-list {
            display: grid;
            gap: 1rem;
        }

        .product-option {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(197, 48, 48, 0.1);
            border: 1px solid var(--primary);
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .product-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid transparent;
            border-radius: 8px;
            background: linear-gradient(45deg, var(--primary), var(--primary-dark)) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: rotateBorder 3s linear infinite;
        }

        .product-option:hover {
            background: rgba(197, 48, 48, 0.2);
        }

        .product-option.selected {
            background: rgba(197, 48, 48, 0.3);
        }

        .product-option-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 5px;
            border: 1px solid var(--primary);
            position: relative;
            z-index: 1;
        }

        .product-option-info {
            flex: 1;
            position: relative;
            z-index: 1;
        }

        .product-option-name {
            color: var(--secondary);
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .product-option-price {
            color: var(--primary);
            font-weight: 500;
        }

        /* Success Modal */
        .success-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }

        .success-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: var(--white);
            padding: 4rem;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            border: 2px solid var(--primary);
            transform: scale(0.9);
            transition: var(--transition);
            box-shadow: 0 20px 50px rgba(197, 48, 48, 0.2);
            position: relative;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .modal-content {
                padding: 2rem;
            }
        }

        .modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 2px solid transparent;
            border-radius: 20px;
            background: linear-gradient(45deg, var(--primary), var(--primary-dark)) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: rotateBorder 3s linear infinite;
        }

        .success-modal.active .modal-content {
            transform: scale(1);
        }

        .success-icon {
            font-size: 6rem;
            color: var(--primary);
            margin-bottom: 2rem;
            animation: pulse 2s infinite;
            position: relative;
            z-index: 1;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .modal-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        @media (max-width: 768px) {
            .modal-title {
                font-size: 2rem;
            }
        }

        .modal-message {
            font-size: 1.2rem;
            color: var(--dark-gray);
            margin-bottom: 3rem;
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }

        .modal-order-id {
            background: rgba(197, 48, 48, 0.1);
            padding: 1rem 2rem;
            border-radius: 10px;
            margin: 2rem 0;
            font-family: monospace;
            font-size: 1.3rem;
            color: var(--primary);
            border: 2px solid var(--primary);
            position: relative;
            z-index: 1;
        }

        .modal-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            position: relative;
            z-index: 1;
        }

        @media (max-width: 768px) {
            .modal-buttons {
                flex-direction: column;
            }
        }

        .modal-button {
            padding: 1rem 2.5rem;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border-radius: 10px;
            text-decoration: none;
            display: inline-block;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
            font-family: 'Cairo', sans-serif !important;
        }

        .modal-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .modal-button:hover::before {
            left: 100%;
        }

        .modal-button.primary {
            background: linear-gradient(45deg, var(--primary), var(--primary-dark));
            color: white;
        }

        .modal-button.primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(197, 48, 48, 0.3);
        }

        .modal-button.secondary {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .modal-button.secondary:hover {
            background: rgba(197, 48, 48, 0.1);
        }

        /* Error States */
        .error-message {
            color: var(--danger);
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
        }

        .form-input.error,
        .form-textarea.error,
        .form-select.error {
            border-color: var(--danger);
        }

        .error-message.show {
            display: block;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 1rem 2rem;
            background: var(--primary);
            color: white;
            border-radius: 10px;
            z-index: 10000;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            animation: slideIn 0.3s ease;
            display: none;
        }

        .toast.show {
            display: block;
        }

        @keyframes slideIn {
            from {
                transform: translateX(-50%) translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .order-nav {
                padding: 1rem;
                flex-wrap: wrap;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen">
        <video id="loadingVideo" autoplay muted playsinline>
            <source src="logo.mp4" type="video/mp4">
        </video>
        <div class="loading-bar-container">
            <div class="loading-bar"></div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="order-nav">
        <a href="index.html" class="back-button" id="backButton">
            <i class="fas fa-arrow-right"></i>
            <span id="backText">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
        </a>
        <a href="index.html" class="nav-logo-container">
            <div class="nav-logo">
                <img src="logo.png" alt="Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù„Ù„Ø³ÙŠØ§Ø±Ø§Øª" onerror="this.src='https://via.placeholder.com/50'">
            </div>
            <div class="logo-text">Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ <span>Ù„Ù„Ø³ÙŠØ§Ø±Ø§Øª</span></div>
        </a>
    </nav>

    <!-- Order Container -->
    <div class="order-container">
        <!-- Order Header -->
        <div class="order-header">
            <h1 class="order-title" id="orderTitle">Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ Ø³ÙŠØ§Ø±Ø©</h1>
            <p class="order-subtitle" id="orderSubtitle">Ø§Ù…Ù„Ø£ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ§Ù„ÙŠ ÙˆØ³Ù†ØªØµÙ„ Ø¨Ùƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ† Ù„ØªØ£ÙƒÙŠØ¯ Ø·Ù„Ø¨Ùƒ</p>
        </div>

        <!-- Order Content -->
        <div class="order-content">
            <!-- Order Form -->
            <form class="order-form" id="orderForm">
                <h2 class="form-title" id="formTitle">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨</h2>
                
                <!-- Product Selection -->
                <div class="product-selection" id="productSelection">
                    <h3 id="productSelectionTitle">Ø§Ø®ØªØ± Ø§Ù„Ø³ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</h3>
                    <div class="products-list" id="productsList">
                        <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                    </div>
                </div>

                <!-- Payment Method -->
                <div class="form-group payment-method">
                    <label class="form-label">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>
                    <div class="payment-options">
                        <div class="payment-option" data-method="cash" onclick="selectPaymentMethod('cash')">
                            <div class="payment-icon">ğŸ’µ</div>
                            <div class="payment-label">ÙƒØ§Ø´</div>
                        </div>
                        <div class="payment-option" data-method="installment" onclick="selectPaymentMethod('installment')">
                            <div class="payment-icon">ğŸ’³</div>
                            <div class="payment-label">ØªÙ‚Ø³ÙŠØ·</div>
                        </div>
                    </div>
                </div>

                <!-- Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ø³ÙŠØ· -->
                <div class="installment-section" id="installmentSection">
                    <h4 style="color: var(--primary); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-credit-card"></i>
                        <span id="installmentTitle">Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ø³ÙŠØ·</span>
                    </h4>
                    
                    <div class="installment-options" id="installmentOptions">
                        <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø®Ø·Ø· Ø§Ù„ØªÙ‚Ø³ÙŠØ· Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                    </div>
                    
                    <div class="installment-details" id="installmentDetails">
                        <h5 style="color: var(--primary); margin-bottom: 0.5rem;" id="installmentDetailsTitle">ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ‚Ø³ÙŠØ· Ø§Ù„Ù…Ø®ØªØ§Ø±:</h5>
                        <div id="selectedInstallmentInfo"></div>
                    </div>
                </div>

                <!-- Customer Information -->
                <div class="form-group">
                    <label for="fullName" class="form-label">
                        <span id="nameLabel">Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„</span> <span class="form-required">*</span>
                    </label>
                    <input type="text" id="fullName" class="form-input" required 
                           placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„">
                    <div class="error-message" id="nameError">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… ØµØ­ÙŠØ­</div>
                </div>

                <div class="form-group">
                    <label for="phoneNumber" class="form-label">
                        <span id="phoneLabel">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</span> <span class="form-required">*</span>
                    </label>
                    <input type="tel" id="phoneNumber" class="form-input" required 
                           placeholder="Ù…Ø«Ø§Ù„: 01XXXXXXXXX">
                    <div class="error-message" id="phoneError">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØµØ­ÙŠØ­</div>
                </div>

                <div class="form-group">
                    <label for="email" class="form-label">
                        <span id="emailLabel">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</span>
                    </label>
                    <input type="email" id="email" class="form-input" 
                           placeholder="example@domain.com">
                    <div class="error-message" id="emailError">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­</div>
                </div>

                <div class="form-group">
                    <label for="address" class="form-label">
                        <span id="addressLabel">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„</span> <span class="form-required">*</span>
                    </label>
                    <textarea id="address" class="form-textarea" required 
                              placeholder="Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙƒØ§Ù…Ù„Ø§Ù‹ Ù…Ø¹ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© ÙˆØ§Ù„Ø­ÙŠ"></textarea>
                    <div class="error-message" id="addressError">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙƒØ§Ù…Ù„Ø§Ù‹</div>
                </div>

                <div class="form-group">
                    <label for="city" class="form-label">
                        <span id="cityLabel">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</span> <span class="form-required">*</span>
                    </label>
                    <select id="city" class="form-select" required>
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
                        <option value="Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©">Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©</option>
                        <option value="Ø§Ù„Ø¬ÙŠØ²Ø©">Ø§Ù„Ø¬ÙŠØ²Ø©</option>
                        <option value="Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©">Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©</option>
                        <option value="Ø¨ÙˆØ±Ø³Ø¹ÙŠØ¯">Ø¨ÙˆØ±Ø³Ø¹ÙŠØ¯</option>
                        <option value="Ø§Ù„Ø³ÙˆÙŠØ³">Ø§Ù„Ø³ÙˆÙŠØ³</option>
                        <option value="Ø¯Ù…ÙŠØ§Ø·">Ø¯Ù…ÙŠØ§Ø·</option>
                        <option value="Ø§Ù„Ø¯Ù‚Ù‡Ù„ÙŠØ©">Ø§Ù„Ø¯Ù‚Ù‡Ù„ÙŠØ©</option>
                        <option value="Ø§Ù„Ø´Ø±Ù‚ÙŠØ©">Ø§Ù„Ø´Ø±Ù‚ÙŠØ©</option>
                        <option value="Ø§Ù„Ù‚Ù„ÙŠÙˆØ¨ÙŠØ©">Ø§Ù„Ù‚Ù„ÙŠÙˆØ¨ÙŠØ©</option>
                        <option value="ÙƒÙØ± Ø§Ù„Ø´ÙŠØ®">ÙƒÙØ± Ø§Ù„Ø´ÙŠØ®</option>
                        <option value="Ø§Ù„ØºØ±Ø¨ÙŠØ©">Ø§Ù„ØºØ±Ø¨ÙŠØ©</option>
                        <option value="Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©">Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©</option>
                        <option value="Ø§Ù„ÙÙŠÙˆÙ…">Ø§Ù„ÙÙŠÙˆÙ…</option>
                        <option value="Ø§Ù„Ù…Ù†ÙŠØ§">Ø§Ù„Ù…Ù†ÙŠØ§</option>
                        <option value="Ø£Ø³ÙŠÙˆØ·">Ø£Ø³ÙŠÙˆØ·</option>
                        <option value="Ø³ÙˆÙ‡Ø§Ø¬">Ø³ÙˆÙ‡Ø§Ø¬</option>
                        <option value="Ù‚Ù†Ø§">Ù‚Ù†Ø§</option>
                        <option value="Ø£Ø³ÙˆØ§Ù†">Ø£Ø³ÙˆØ§Ù†</option>
                        <option value="Ø§Ù„Ø£Ù‚ØµØ±">Ø§Ù„Ø£Ù‚ØµØ±</option>
                        <option value="Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ø£Ø­Ù…Ø±">Ø§Ù„Ø¨Ø­Ø± Ø§Ù„Ø£Ø­Ù…Ø±</option>
                        <option value="Ø§Ù„ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯">Ø§Ù„ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯</option>
                        <option value="Ù…Ø±Ø³Ù‰ Ù…Ø·Ø±ÙˆØ­">Ù…Ø±Ø³Ù‰ Ù…Ø·Ø±ÙˆØ­</option>
                        <option value="Ø´Ù…Ø§Ù„ Ø³ÙŠÙ†Ø§Ø¡">Ø´Ù…Ø§Ù„ Ø³ÙŠÙ†Ø§Ø¡</option>
                        <option value="Ø¬Ù†ÙˆØ¨ Ø³ÙŠÙ†Ø§Ø¡">Ø¬Ù†ÙˆØ¨ Ø³ÙŠÙ†Ø§Ø¡</option>
                        <option value="Ø£Ø®Ø±Ù‰">Ø£Ø®Ø±Ù‰</option>
                    </select>
                    <div class="error-message" id="cityError">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</div>
                </div>

                <div class="form-group">
                    <label for="contactMethod" class="form-label">
                        <span id="contactMethodLabel">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…ÙØ¶Ù„Ø©</span>
                    </label>
                    <select id="contactMethod" class="form-select">
                        <option value="phone">Ù…ÙƒØ§Ù„Ù…Ø© Ù‡Ø§ØªÙÙŠØ©</option>
                        <option value="whatsapp">ÙˆØ§ØªØ³Ø§Ø¨</option>
                        <option value="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="notes" class="form-label">
                        <span id="notesLabel">Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</span>
                    </label>
                    <textarea id="notes" class="form-textarea" 
                              placeholder="Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© ØªØ±ÙŠØ¯ Ø¥Ø¶Ø§ÙØªÙ‡Ø§"></textarea>
                </div>

                <div class="form-buttons">
                    <button type="submit" class="submit-button" id="submitButton">
                        <span id="submitText">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</span>
                    </button>
                    <button type="reset" class="reset-button" id="resetButton">
                        <span id="resetText">Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</span>
                    </button>
                </div>
            </form>

            <!-- Order Summary -->
            <div class="order-summary">
                <h3 class="summary-title" id="summaryTitle">Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨</h3>
                
                <div class="product-preview" id="selectedProductPreview">
                    <!-- Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                </div>

                <div class="summary-items">
                    <div class="summary-item">
                        <span class="summary-label" id="orderNumberLabel">Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:</span>
                        <span class="summary-value" id="orderNumber">---</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label" id="orderDateLabel">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨:</span>
                        <span class="summary-value" id="orderDate">${new Date().toLocaleDateString('ar-SA')}</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label" id="orderStatusLabel">Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨:</span>
                        <span class="summary-value" style="color: var(--primary);" id="orderStatus">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</span>
                    </div>
                    <div class="summary-item" id="paymentMethodItem">
                        <span class="summary-label" id="paymentMethodLabel">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</span>
                        <span class="summary-value" id="paymentMethodValue">---</span>
                    </div>
                    <div class="summary-item" id="installmentSummary" style="display: none;">
                        <span class="summary-label" id="installmentLabel">Ø®Ø·Ø© Ø§Ù„ØªÙ‚Ø³ÙŠØ·:</span>
                        <span class="summary-value" id="installmentPlan">---</span>
                    </div>
                </div>

                <div class="summary-total">
                    <span id="totalLabel">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                    <span id="totalAmount">0 Ø¬.Ù…</span>
                </div>

                <div style="margin-top: 2rem; font-size: 0.9rem;">
                    <p>âš ï¸ <span id="orderHint1">Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø© Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</span></p>
                    <p>ğŸ“ <span id="orderHint2">Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±: <strong style="color: var(--primary);" id="orderPhone">---</strong></span></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="success-modal" id="successModal">
        <div class="modal-content">
            <div class="success-icon">âœ“</div>
            <h2 class="modal-title" id="modalTitle">ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!</h2>
            <p class="modal-message" id="modalMessage">
                Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ Ø«Ù‚ØªÙƒ Ø¨Ù†Ø§. Ø³ÙŠØªÙ… Ù…Ø±Ø§Ø¬Ø¹Ø© Ø·Ù„Ø¨Ùƒ ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ†.
            </p>
            <div class="modal-order-id" id="modalOrderId">---</div>
            <div class="modal-buttons">
                <a href="index.html" class="modal-button primary" id="modalHomeButton">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <button class="modal-button secondary" onclick="closeModal()" id="modalCloseButton">Ø¥ØºÙ„Ø§Ù‚</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script src="sync.js"></script>
    <script>
        // Ù†ØµÙˆØµ Ø§Ù„Ù„ØºØ©
        const orderTexts = {
            ar: {
                pageTitle: "Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ | Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù„Ù„Ø³ÙŠØ§Ø±Ø§Øª",
                
                // Navigation
                backText: "Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
                
                // Order Header
                orderTitle: "Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡ Ø³ÙŠØ§Ø±Ø©",
                orderSubtitle: "Ø§Ù…Ù„Ø£ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ§Ù„ÙŠ ÙˆØ³Ù†ØªØµÙ„ Ø¨Ùƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ† Ù„ØªØ£ÙƒÙŠØ¯ Ø·Ù„Ø¨Ùƒ",
                
                // Form
                formTitle: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨",
                productSelectionTitle: "Ø§Ø®ØªØ± Ø§Ù„Ø³ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©",
                installmentTitle: "Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ø³ÙŠØ·",
                installmentDetailsTitle: "ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ‚Ø³ÙŠØ· Ø§Ù„Ù…Ø®ØªØ§Ø±:",
                nameLabel: "Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„",
                phoneLabel: "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",
                emailLabel: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
                addressLabel: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„",
                cityLabel: "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©",
                notesLabel: "Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)",
                contactMethodLabel: "Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…ÙØ¶Ù„Ø©",
                submitText: "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨",
                resetText: "Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬",
                
                // Summary
                summaryTitle: "Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨",
                orderNumberLabel: "Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨:",
                orderDateLabel: "ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨:",
                orderStatusLabel: "Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨:",
                paymentMethodLabel: "Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:",
                installmentLabel: "Ø®Ø·Ø© Ø§Ù„ØªÙ‚Ø³ÙŠØ·:",
                totalLabel: "Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:",
                
                // Order Hints
                orderHint1: "Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø© Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨",
                orderHint2: "Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±:",
                
                // Modal
                modalTitle: "ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!",
                modalMessage: "Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ Ø«Ù‚ØªÙƒ Ø¨Ù†Ø§. Ø³ÙŠØªÙ… Ù…Ø±Ø§Ø¬Ø¹Ø© Ø·Ù„Ø¨Ùƒ ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ†.",
                modalHomeButton: "Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
                modalCloseButton: "Ø¥ØºÙ„Ø§Ù‚",
                
                // Messages
                noProducts: "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³ÙŠØ§Ø±Ø§Øª Ù…ØªØ§Ø­Ø© Ù„Ù„Ø·Ù„Ø¨ Ø­Ø§Ù„ÙŠØ§Ù‹",
                selectProduct: "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø³ÙŠØ§Ø±Ø© Ø£ÙˆÙ„Ø§Ù‹",
                orderSuccess: "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­",
                orderError: "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨",
                phoneError: "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ù…ØµØ±ÙŠ ØµØ­ÙŠØ­",
                noInstallmentPlans: "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®ÙŠØ§Ø±Ø§Øª ØªÙ‚Ø³ÙŠØ· Ù…ØªØ§Ø­Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬",
                selectPaymentMethod: "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹",
                selectInstallmentPlan: "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø®Ø·Ø© Ø§Ù„ØªÙ‚Ø³ÙŠØ·"
            }
        };

        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        let siteData = null;
        let selectedProduct = null;
        let orderNumber = generateOrderNumber();
        let selectedInstallmentPlan = null;
        let paymentMethod = null;

        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
        document.addEventListener('DOMContentLoaded', async () => {
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù„ØºØ©
            applyLanguage();
            
            // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹
            await loadSiteData();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            loadProducts();
            
            // ØªØ­Ø¯ÙŠØ« Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨
            updateOrderSummary();
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            initializeForm();
            
            // Ø¨Ø¯Ø¡ Ø±Ø³ÙˆÙ…ÙŠØ§Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„
            startLoadingAnimation();
        });

        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù„ØºØ©
        function applyLanguage() {
            const texts = orderTexts.ar;
            
            // ØªØ­Ø¯ÙŠØ« Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©
            document.title = texts.pageTitle;
            document.getElementById('pageTitle').textContent = texts.pageTitle;
            
            // ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ±
            Object.keys(texts).forEach(key => {
                if (typeof texts[key] === 'string') {
                    const element = document.getElementById(key);
                    if (element) {
                        element.textContent = texts[key];
                    }
                }
            });
        }

        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹
        async function loadSiteData() {
            try {
                if (window.gitHubSync && window.gitHubSync.fetch) {
                    siteData = await window.gitHubSync.fetch();
                } else {
                    // ØªØ­Ù…ÙŠÙ„ Ù…Ù† localStorage
                    const savedData = localStorage.getItem('siteData');
                    if (savedData) {
                        siteData = JSON.parse(savedData);
                    }
                }
                
                // ØªØ­Ø¯ÙŠØ« Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙÙŠ Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨
                if (siteData?.contact?.phone) {
                    document.getElementById('orderPhone').textContent = siteData.contact.phone;
                }
            } catch (error) {
                console.error('Error loading site data:', error);
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        function loadProducts() {
            const container = document.getElementById('productsList');
            if (!container) return;
            
            const products = siteData?.products?.filter(p => p.status === 'available') || [];
            
            if (products.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: var(--dark-gray);">
                        <i class="fas fa-car" style="font-size: 2rem; margin-bottom: 1rem;"></i>
                        <p>${orderTexts.ar.noProducts}</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = products.map(product => `
                <div class="product-option" onclick="selectProduct('${product.id}')">
                    <img src="${product.images?.[0] || 'https://via.placeholder.com/60?text=No+Image'}" 
                         alt="${product.name?.ar || 'Product'}" 
                         class="product-option-image">
                    <div class="product-option-info">
                        <div class="product-option-name">${product.name?.ar || 'Product'}</div>
                        <div class="product-option-price">${product.price || '0'} ${siteData?.site?.currencySymbol || 'Ø¬.Ù…'}</div>
                    </div>
                </div>
            `).join('');
            
            // ØªØ­Ø¯ÙŠØ¯ Ø£ÙˆÙ„ Ù…Ù†ØªØ¬ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            if (products.length > 0) {
                selectProduct(products[0].id);
            }
        }

        // ØªØ­Ø¯ÙŠØ¯ Ù…Ù†ØªØ¬
        function selectProduct(productId) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            document.querySelectorAll('.product-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù„Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ø®ØªØ§Ø±
            const selectedOption = document.querySelector(`.product-option[onclick*="${productId}"]`);
            if (selectedOption) {
                selectedOption.classList.add('selected');
                
                // Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                selectedProduct = siteData?.products?.find(p => p.id === productId);
                if (selectedProduct) {
                    updateProductPreview();
                    
                    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹
                    resetPaymentMethod();
                    
                    // Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ø³ÙŠØ·
                    document.getElementById('installmentSection').classList.remove('show');
                    document.getElementById('installmentDetails').classList.remove('show');
                }
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ØªØ¬
        function updateProductPreview() {
            const container = document.getElementById('selectedProductPreview');
            if (!container || !selectedProduct) return;
            
            container.innerHTML = `
                <img src="${selectedProduct.images?.[0] || 'https://via.placeholder.com/120?text=No+Image'}" 
                     alt="${selectedProduct.name?.ar || 'Product'}" 
                     class="product-image">
                <div class="product-details">
                    <h4 class="product-name">${selectedProduct.name?.ar || 'Product'}</h4>
                    <div class="product-price">${selectedProduct.price || '0'} ${siteData.site?.currencySymbol || 'Ø¬.Ù…'}</div>
                </div>
            `;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
            document.getElementById('totalAmount').textContent = 
                `${selectedProduct.price || '0'} ${siteData.site?.currencySymbol || 'Ø¬.Ù…'}`;
        }

        // ØªØ­Ø¯ÙŠØ¯ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹
        function selectPaymentMethod(method) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù„Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
            const selectedOption = document.querySelector(`.payment-option[data-method="${method}"]`);
            if (selectedOption) {
                selectedOption.classList.add('selected');
            }
            
            paymentMethod = method;
            
            // ØªØ­Ø¯ÙŠØ« Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨
            document.getElementById('paymentMethodValue').textContent = 
                method === 'cash' ? 'ÙƒØ§Ø´' : 'ØªÙ‚Ø³ÙŠØ·';
            document.getElementById('paymentMethodItem').style.display = 'flex';
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø£Ùˆ Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ø³ÙŠØ·
            const installmentSection = document.getElementById('installmentSection');
            if (method === 'installment') {
                installmentSection.classList.add('show');
                loadInstallmentPlans();
            } else {
                installmentSection.classList.remove('show');
                document.getElementById('installmentDetails').classList.remove('show');
                document.getElementById('installmentSummary').style.display = 'none';
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¥Ù„Ù‰ Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬
                if (selectedProduct) {
                    document.getElementById('totalAmount').textContent = 
                        `${selectedProduct.price || '0'} ${siteData.site?.currencySymbol || 'Ø¬.Ù…'}`;
                }
            }
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹
        function resetPaymentMethod() {
            paymentMethod = null;
            selectedInstallmentPlan = null;
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„ØªÙ‚Ø³ÙŠØ·
            document.getElementById('installmentSection').classList.remove('show');
            document.getElementById('installmentDetails').classList.remove('show');
            document.getElementById('installmentSummary').style.display = 'none';
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨
            document.getElementById('paymentMethodValue').textContent = '---';
            document.getElementById('paymentMethodItem').style.display = 'flex';
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
            if (selectedProduct) {
                document.getElementById('totalAmount').textContent = 
                    `${selectedProduct.price || '0'} ${siteData.site?.currencySymbol || 'Ø¬.Ù…'}`;
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø®Ø·Ø· Ø§Ù„ØªÙ‚Ø³ÙŠØ·
        function loadInstallmentPlans() {
            const container = document.getElementById('installmentOptions');
            if (!container || !selectedProduct || !siteData) return;
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø®Ø·Ø· Ø§Ù„ØªÙ‚Ø³ÙŠØ· Ù„Ù„Ù…Ù†ØªØ¬
            const productInstallmentPlans = selectedProduct.installmentPlans || [];
            
            if (productInstallmentPlans.length === 0) {
                container.innerHTML = `<p style="color: var(--dark-gray); text-align: center; grid-column: 1 / -1;">${orderTexts.ar.noInstallmentPlans}</p>`;
                return;
            }
            
            container.innerHTML = productInstallmentPlans.map(plan => `
                <div class="installment-option" 
                     onclick="selectInstallmentPlan(${plan.months}, ${plan.downPayment}, ${plan.monthlyPayment}, ${plan.interestRate || 0}, ${plan.downPercentage})">
                    <div style="font-size: 1.2rem; font-weight: 700; color: var(--primary);">${plan.months} Ø´Ù‡Ø±</div>
                    <div style="font-size: 0.9rem; color: var(--dark-gray); margin: 0.3rem 0;">
                        Ù…Ù‚Ø¯Ù…: ${plan.downPayment.toLocaleString()} ${siteData.site?.currencySymbol || 'Ø¬.Ù…'}
                    </div>
                    <div style="font-size: 1.1rem; font-weight: 600; color: var(--secondary);">
                        ${plan.monthlyPayment.toLocaleString()} ${siteData.site?.currencySymbol || 'Ø¬.Ù…'}/Ø´Ù‡Ø±
                    </div>
                    ${plan.interestRate ? `
                        <div style="font-size: 0.8rem; color: var(--success); margin-top: 0.3rem;">
                            ÙØ§Ø¦Ø¯Ø©: ${plan.interestRate}%
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ø®Ø·Ø© Ø§Ù„ØªÙ‚Ø³ÙŠØ·
        function selectInstallmentPlan(months, downPayment, monthlyPayment, interestRate, downPercentage) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·Ø·
            document.querySelectorAll('.installment-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù„Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
            const selectedOption = document.querySelector(`.installment-option[onclick*="${months}, ${downPayment}"]`);
            if (selectedOption) {
                selectedOption.classList.add('selected');
            }
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
            const totalAmount = downPayment + (monthlyPayment * months);
            
            // Ø­ÙØ¸ Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
            selectedInstallmentPlan = {
                months: months,
                downPayment: downPayment,
                monthlyPayment: monthlyPayment,
                interestRate: interestRate,
                downPercentage: downPercentage,
                totalAmount: totalAmount
            };
            
            // Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ‚Ø³ÙŠØ·
            const detailsContainer = document.getElementById('installmentDetails');
            const infoContainer = document.getElementById('selectedInstallmentInfo');
            
            infoContainer.innerHTML = `
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem; margin-bottom: 1rem;">
                    <div>
                        <strong>Ù…Ø¯Ø© Ø§Ù„ØªÙ‚Ø³ÙŠØ·:</strong>
                        <div>${months} Ø´Ù‡Ø± (${Math.floor(months/12)} Ø³Ù†Ø© Ùˆ ${months%12} Ø´Ù‡Ø±)</div>
                    </div>
                    <div>
                        <strong>Ø§Ù„Ù…Ù‚Ø¯Ù…:</strong>
                        <div>${downPayment.toLocaleString()} ${siteData.site?.currencySymbol || 'Ø¬.Ù…'} (${downPercentage}%)</div>
                    </div>
                    <div>
                        <strong>Ø§Ù„Ù‚Ø³Ø· Ø§Ù„Ø´Ù‡Ø±ÙŠ:</strong>
                        <div>${monthlyPayment.toLocaleString()} ${siteData.site?.currencySymbol || 'Ø¬.Ù…'}</div>
                    </div>
                    <div>
                        <strong>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</strong>
                        <div>${totalAmount.toLocaleString()} ${siteData.site?.currencySymbol || 'Ø¬.Ù…'}</div>
                    </div>
                </div>
                ${interestRate > 0 ? `
                    <div style="background: rgba(56, 161, 105, 0.1); padding: 0.5rem; border-radius: 5px; border: 1px solid var(--success);">
                        <strong>Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> ÙŠØªØ¶Ù…Ù† Ø§Ù„ØªÙ‚Ø³ÙŠØ· ÙØ§Ø¦Ø¯Ø© Ø¨Ù†Ø³Ø¨Ø© ${interestRate}%
                    </div>
                ` : `
                    <div style="background: rgba(56, 161, 105, 0.1); padding: 0.5rem; border-radius: 5px; border: 1px solid var(--success);">
                        <strong>Ù…Ù…ÙŠØ²:</strong> ØªÙ‚Ø³ÙŠØ· Ø¨Ø¯ÙˆÙ† ÙÙˆØ§Ø¦Ø¯
                    </div>
                `}
            `;
            
            detailsContainer.classList.add('show');
            
            // ØªØ­Ø¯ÙŠØ« Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ‚Ø³ÙŠØ·
            document.getElementById('installmentPlan').textContent = 
                `${months} Ø´Ù‡Ø± - ${monthlyPayment.toLocaleString()} ${siteData.site?.currencySymbol || 'Ø¬.Ù…'}/Ø´Ù‡Ø±`;
            document.getElementById('installmentSummary').style.display = 'flex';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
            document.getElementById('totalAmount').textContent = 
                `${totalAmount.toLocaleString()} ${siteData.site?.currencySymbol || 'Ø¬.Ù…'}`;
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨
        function updateOrderSummary() {
            document.getElementById('orderNumber').textContent = orderNumber;
            document.getElementById('orderDate').textContent = new Date().toLocaleDateString('ar-SA');
            document.getElementById('modalOrderId').textContent = orderNumber;
        }

        // ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ø·Ù„Ø¨
        function generateOrderNumber() {
            const timestamp = Date.now().toString().slice(-8);
            const random = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
            return `ORD-${timestamp}${random}`;
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        function initializeForm() {
            const form = document.getElementById('orderForm');
            const inputs = form.querySelectorAll('input, textarea, select');
            
            inputs.forEach(input => {
                input.addEventListener('blur', validateField);
                input.addEventListener('input', clearError);
            });
            
            form.addEventListener('submit', handleSubmit);
            
            document.getElementById('resetButton').addEventListener('click', () => {
                setTimeout(() => {
                    clearAllErrors();
                    resetForm();
                }, 100);
            });
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        function resetForm() {
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹
            resetPaymentMethod();
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ø®ØªØ§Ø±
            if (siteData?.products?.length > 0) {
                const availableProducts = siteData.products.filter(p => p.status === 'available');
                if (availableProducts.length > 0) {
                    selectProduct(availableProducts[0].id);
                }
            }
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù‚Ù„
        function validateField(e) {
            const field = e.target;
            const value = field.value.trim();
            const errorId = field.id + 'Error';
            const errorElement = document.getElementById(errorId);
            
            let isValid = true;
            let errorMessage = '';
            
            switch (field.id) {
                case 'fullName':
                    if (value.length < 3) {
                        isValid = false;
                        errorMessage = 'Ø§Ù„Ø§Ø³Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 3 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„';
                    }
                    break;
                    
                case 'phoneNumber':
                    // ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ù…ØµØ±ÙŠ
                    const phoneRegex = /^01[0125][0-9]{8}$/;
                    if (!phoneRegex.test(value)) {
                        isValid = false;
                        errorMessage = orderTexts.ar.phoneError;
                    }
                    break;
                    
                case 'email':
                    if (value && !isValidEmail(value)) {
                        isValid = false;
                        errorMessage = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­';
                    }
                    break;
                    
                case 'address':
                    if (value.length < 10) {
                        isValid = false;
                        errorMessage = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„';
                    }
                    break;
                    
                case 'city':
                    if (!value) {
                        isValid = false;
                        errorMessage = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©';
                    }
                    break;
            }
            
            if (!isValid) {
                field.classList.add('error');
                errorElement.textContent = errorMessage;
                errorElement.classList.add('show');
            }
            
            return isValid;
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Ù…Ø³Ø­ Ø§Ù„Ø®Ø·Ø£
        function clearError(e) {
            const field = e.target;
            const errorId = field.id + 'Error';
            const errorElement = document.getElementById(errorId);
            
            field.classList.remove('error');
            errorElement.classList.remove('show');
        }

        // Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
        function clearAllErrors() {
            document.querySelectorAll('.error-message').forEach(el => {
                el.classList.remove('show');
            });
            
            document.querySelectorAll('.form-input, .form-textarea, .form-select').forEach(el => {
                el.classList.remove('error');
            });
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        async function handleSubmit(e) {
            e.preventDefault();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØªØ¬
            if (!selectedProduct) {
                showToast(orderTexts.ar.selectProduct);
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹
            if (!paymentMethod) {
                showToast(orderTexts.ar.selectPaymentMethod);
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø®Ø·Ø© Ø§Ù„ØªÙ‚Ø³ÙŠØ· Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© ØªÙ‚Ø³ÙŠØ·
            if (paymentMethod === 'installment' && !selectedInstallmentPlan) {
                showToast(orderTexts.ar.selectInstallmentPlan);
                return;
            }
            
            const form = e.target;
            const inputs = form.querySelectorAll('input[required], textarea[required], select[required]');
            
            let isValid = true;
            inputs.forEach(input => {
                if (!validateField({ target: input })) {
                    isValid = false;
                }
            });
            
            if (!isValid) {
                return;
            }
            
            const submitButton = document.getElementById('submitButton');
            
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...';
            
            try {
                const formData = new FormData(form);
                const orderData = {
                    id: 'ord_' + Date.now(),
                    orderNumber: orderNumber,
                    customer: {
                        fullName: formData.get('fullName'),
                        phone: formData.get('phoneNumber'),
                        email: formData.get('email'),
                        address: formData.get('address'),
                        city: formData.get('city'),
                        notes: formData.get('notes'),
                        contactMethod: formData.get('contactMethod')
                    },
                    product: {
                        id: selectedProduct.id,
                        name: selectedProduct.name?.ar || selectedProduct.name,
                        price: selectedProduct.price,
                        image: selectedProduct.images?.[0]
                    },
                    paymentMethod: paymentMethod,
                    installment: paymentMethod === 'installment' ? selectedInstallmentPlan : null,
                    totalAmount: paymentMethod === 'installment' ? selectedInstallmentPlan.totalAmount : selectedProduct.price,
                    status: 'pending',
                    date: new Date().toISOString()
                };
                
                // Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                if (!siteData.orders) {
                    siteData.orders = [];
                }
                siteData.orders.push(orderData);
                
                // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                if (window.gitHubSync && window.gitHubSync.push) {
                    await window.gitHubSync.push(siteData, `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† ${orderData.customer.fullName}`);
                } else {
                    localStorage.setItem('siteData', JSON.stringify(siteData));
                }
                
                // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ØªÙ„Ø¬Ø±Ø§Ù…
                if (window.gitHubSync && window.gitHubSync.sendTelegramNotification) {
                    window.gitHubSync.sendTelegramNotification(orderData);
                }
                
                setTimeout(() => {
                    submitButton.disabled = false;
                    submitButton.innerHTML = orderTexts.ar.submitText;
                    
                    showSuccessModal();
                }, 500);
                
            } catch (error) {
                console.error('Error submitting order:', error);
                
                submitButton.disabled = false;
                submitButton.innerHTML = orderTexts.ar.submitText;
                
                showToast(orderTexts.ar.orderError);
            }
        }

        // Ø¹Ø±Ø¶ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
        function showSuccessModal() {
            document.getElementById('modalOrderId').textContent = orderNumber;
            
            const modal = document.getElementById('successModal');
            modal.classList.add('active');
            
            document.body.style.overflow = 'hidden';
            
            showToast(orderTexts.ar.orderSuccess);
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
        function closeModal() {
            const modal = document.getElementById('successModal');
            modal.classList.remove('active');
            
            document.body.style.overflow = '';
            document.getElementById('orderForm').reset();
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ø®ØªØ§Ø±
            if (siteData?.products?.length > 0) {
                const availableProducts = siteData.products.filter(p => p.status === 'available');
                if (availableProducts.length > 0) {
                    selectProduct(availableProducts[0].id);
                }
            }
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹
            resetPaymentMethod();
            
            // ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
            orderNumber = generateOrderNumber();
            updateOrderSummary();
        }

        // Ø±Ø³ÙˆÙ…ÙŠØ§Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function startLoadingAnimation() {
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingVideo = document.getElementById('loadingVideo');

            const onLoadingComplete = () => {
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }, 500);
            };

            loadingVideo.addEventListener('ended', onLoadingComplete);
            setTimeout(onLoadingComplete, 2000);
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
        function showToast(message) {
            const toast = document.getElementById('toast');
            if (!toast) return;
            
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>