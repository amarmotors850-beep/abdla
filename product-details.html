<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø³ÙŠØ§Ø±Ø© | Ø³ÙŠØ§Ø±Ø§Øª Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡</title>
    
    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    
    <!-- Animated Background (Ù†ÙØ³ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©) -->
    <style>
        /* ... Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© ÙƒÙ…Ø§ ÙÙŠ index.html ... */
    </style>

    <style>
        /* ============ Ù…ØªØºÙŠØ±Ø§Øª CSS ============ */
        :root {
            --primary: #c53030;
            --primary-dark: #9b2c2c;
            --secondary: #0a0a0a;
            --light: #f7fafc;
            --white: #ffffff;
            --gray-100: #f7fafc;
            --gray-200: #edf2f7;
            --gray-300: #e2e8f0;
            --gray-400: #cbd5e0;
            --gray-500: #a0aec0;
            --gray-600: #718096;
            --gray-700: #4a5568;
            --gray-800: #2d3748;
            --gray-900: #1a202c;
            --success: #38a169;
            --warning: #d69e2e;
            --danger: #e53e3e;
            
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 25px rgba(0,0,0,0.15);
            --shadow-xl: 0 20px 40px rgba(0,0,0,0.2);
            --shadow-2xl: 0 25px 50px -12px rgba(0,0,0,0.25);
            
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 20px;
            --radius-xl: 30px;
            --radius-2xl: 40px;
            --radius-full: 50px;
            
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: var(--light);
            color: var(--gray-900);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* ============ Ø§Ù„Ù‡ÙŠØ¯Ø± (Ù†ÙØ³ index.html) ============ */
        .main-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            z-index: 1000;
            box-shadow: var(--shadow-md);
            border-bottom: 1px solid rgba(226, 232, 240, 0.5);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
        }

        .logo-circle {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #c53030, #9b2c2c);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-lg);
        }

        .logo-circle i {
            font-size: 2rem;
            color: white;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-title {
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(135deg, #c53030, #9b2c2c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
        }

        .logo-subtitle {
            font-size: 0.9rem;
            color: var(--gray-600);
            font-weight: 600;
        }

        .main-nav ul {
            display: flex;
            gap: 1.5rem;
            list-style: none;
        }

        .main-nav a {
            text-decoration: none;
            color: var(--gray-700);
            font-weight: 600;
            padding: 0.8rem 1.2rem;
            border-radius: var(--radius-full);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .main-nav a:hover,
        .main-nav a.active {
            color: var(--primary);
            background: rgba(197, 48, 48, 0.1);
        }

        .nav-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .nav-btn {
            padding: 0.8rem 1.8rem;
            border: none;
            border-radius: var(--radius-full);
            font-family: 'Cairo', sans-serif;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition-bounce);
            display: flex;
            align-items: center;
            gap: 0.7rem;
            text-decoration: none;
        }

        .nav-btn.primary {
            background: linear-gradient(135deg, #c53030, #9b2c2c);
            color: white;
            box-shadow: var(--shadow);
        }

        .nav-btn.primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .nav-btn.secondary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .nav-btn.secondary:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
        }

        .mobile-menu {
            display: none;
            background: none;
            border: none;
            font-size: 1.8rem;
            color: var(--gray-700);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: var(--radius-md);
            transition: var(--transition);
        }

        .mobile-menu:hover {
            background: var(--gray-100);
        }

        /* ============ Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© ============ */
        .back-button {
            position: fixed;
            top: 100px;
            right: 2rem;
            z-index: 900;
            background: white;
            border: none;
            border-radius: var(--radius-full);
            padding: 0.8rem 1.5rem;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            color: var(--gray-700);
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--gray-200);
        }

        .back-button:hover {
            background: var(--primary);
            color: white;
            transform: translateX(-5px);
            border-color: var(--primary);
        }

        /* ============ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ============ */
        .main-content {
            max-width: 1400px;
            margin: 120px auto 4rem;
            padding: 0 2rem;
        }

        /* ============ Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± ============ */
        .gallery-section {
            background: white;
            border-radius: var(--radius-2xl);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            margin-bottom: 2rem;
            border: 1px solid var(--gray-200);
        }

        .swiper-container {
            width: 100%;
            height: 500px;
            border-radius: var(--radius-xl);
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .swiper-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .swiper-pagination-bullet-active {
            background: var(--primary) !important;
        }

        .swiper-button-next,
        .swiper-button-prev {
            color: white !important;
            background: rgba(197, 48, 48, 0.8);
            width: 50px !important;
            height: 50px !important;
            border-radius: 50%;
            transition: var(--transition);
        }

        .swiper-button-next:hover,
        .swiper-button-prev:hover {
            background: var(--primary);
            transform: scale(1.1);
        }

        .swiper-button-next:after,
        .swiper-button-prev:after {
            font-size: 1.5rem !important;
        }

        .no-image {
            width: 100%;
            height: 500px;
            background: var(--gray-100);
            border-radius: var(--radius-xl);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--gray-500);
        }

        .no-image i {
            font-size: 5rem;
            margin-bottom: 1rem;
        }

        /* ============ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬ ============ */
        .product-info-section {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .product-details-card {
            background: white;
            border-radius: var(--radius-2xl);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--gray-200);
        }

        .product-title {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--gray-900);
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .product-meta {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--gray-200);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            color: var(--gray-700);
            font-size: 1rem;
        }

        .meta-item i {
            color: var(--primary);
            font-size: 1.2rem;
        }

        .product-badges {
            display: flex;
            gap: 0.8rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .badge {
            padding: 0.5rem 1.5rem;
            border-radius: var(--radius-full);
            font-size: 0.9rem;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .badge.featured {
            background: linear-gradient(135deg, #c53030, #9b2c2c);
            color: white;
        }

        .badge.installment {
            background: linear-gradient(135deg, #38a169, #2f855a);
            color: white;
        }

        .badge.type-new {
            background: rgba(56, 161, 105, 0.1);
            color: var(--success);
        }

        .badge.type-used {
            background: rgba(214, 158, 46, 0.1);
            color: var(--warning);
        }

        .badge.type-electric {
            background: rgba(66, 153, 225, 0.1);
            color: #4299e1;
        }

        .product-price-box {
            background: linear-gradient(135deg, rgba(197, 48, 48, 0.05), rgba(155, 44, 44, 0.05));
            padding: 1.5rem;
            border-radius: var(--radius-xl);
            margin-bottom: 2rem;
        }

        .price-title {
            color: var(--gray-600);
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
        }

        .current-price {
            font-size: 3rem;
            font-weight: 900;
            color: var(--primary);
            display: inline-block;
            margin-left: 1rem;
            line-height: 1;
        }

        .old-price {
            font-size: 1.5rem;
            color: var(--gray-500);
            text-decoration: line-through;
            display: inline-block;
        }

        .product-description {
            margin-bottom: 2rem;
        }

        .description-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .description-title i {
            color: var(--primary);
        }

        .description-content {
            color: var(--gray-700);
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .spec-item {
            background: var(--gray-100);
            padding: 1rem 1.5rem;
            border-radius: var(--radius-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--gray-200);
        }

        .spec-label {
            color: var(--gray-600);
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .spec-label i {
            color: var(--primary);
        }

        .spec-value {
            font-weight: 700;
            color: var(--gray-900);
        }

        /* ============ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø·Ù„Ø¨ ============ */
        .order-card {
            background: white;
            border-radius: var(--radius-2xl);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--gray-200);
            position: sticky;
            top: 100px;
        }

        .order-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .order-title i {
            color: var(--primary);
        }

        .order-price {
            font-size: 2.2rem;
            font-weight: 900;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .order-installment {
            color: var(--gray-600);
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--gray-200);
        }

        .order-btn {
            width: 100%;
            padding: 1.2rem;
            background: linear-gradient(135deg, #c53030, #9b2c2c);
            color: white;
            border: none;
            border-radius: var(--radius-lg);
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition-bounce);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            margin-bottom: 1rem;
        }

        .order-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-xl);
        }

        .contact-btn {
            width: 100%;
            padding: 1.2rem;
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
            border-radius: var(--radius-lg);
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition-bounce);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            margin-bottom: 1rem;
        }

        .contact-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
        }

        .seller-info {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--gray-200);
        }

        .seller-title {
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 1rem;
        }

        .seller-detail {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            color: var(--gray-700);
            margin-bottom: 0.8rem;
        }

        .seller-detail i {
            color: var(--primary);
            width: 20px;
        }

        /* ============ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø´Ø§Ø¨Ù‡Ø© ============ */
        .related-section {
            background: white;
            border-radius: var(--radius-2xl);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            margin-top: 2rem;
            border: 1px solid var(--gray-200);
        }

        .related-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .related-title i {
            color: var(--primary);
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .related-card {
            background: white;
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid var(--gray-200);
            text-decoration: none;
            color: inherit;
        }

        .related-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }

        .related-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .related-info {
            padding: 1.2rem;
        }

        .related-name {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 0.3rem;
        }

        .related-price {
            color: var(--primary);
            font-weight: 700;
            font-size: 1.2rem;
        }

        /* ============ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ ============ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: white;
            border-radius: var(--radius-2xl);
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: var(--shadow-2xl);
            animation: slideUp 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .modal-header {
            padding: 1.5rem 2rem;
            background: linear-gradient(135deg, #c53030, #9b2c2c);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .modal-close {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            transition: var(--transition);
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 2rem;
            max-height: calc(90vh - 100px);
            overflow-y: auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--gray-700);
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 0.9rem 1.2rem;
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-lg);
            font-family: 'Cairo', sans-serif;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(197,48,48,0.1);
        }

        /* ============ Toast ============ */
        .toast-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 3000;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .toast {
            background: white;
            padding: 1.2rem 1.8rem;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            display: flex;
            align-items: center;
            gap: 1.2rem;
            min-width: 350px;
            max-width: 450px;
            animation: slideInRight 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border-right: 5px solid var(--primary);
        }

        @keyframes slideInRight {
            from { transform: translateX(120%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .toast.success { border-color: var(--success); }
        .toast.error { border-color: var(--danger); }
        .toast.warning { border-color: var(--warning); }

        .toast-icon { font-size: 1.6rem; }
        .toast.success .toast-icon { color: var(--success); }
        .toast.error .toast-icon { color: var(--danger); }
        .toast.warning .toast-icon { color: var(--warning); }

        .toast-content { flex: 1; }
        .toast-title { font-weight: 700; margin-bottom: 0.3rem; color: var(--gray-900); }
        .toast-message { color: var(--gray-600); font-size: 0.95rem; }
        .toast-close { background: none; border: none; color: var(--gray-400); cursor: pointer; padding: 0.6rem; font-size: 1.1rem; transition: var(--transition); }
        .toast-close:hover { color: var(--gray-700); }

        /* ============ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ ============ */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
            z-index: 4000;
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .loading-overlay.active { display: flex; }
        .loading-spinner {
            width: 70px;
            height: 70px;
            border: 5px solid var(--gray-200);
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1.5rem;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* ============ Responsive ============ */
        @media (max-width: 1200px) {
            .product-info-section {
                grid-template-columns: 1fr;
            }
            .order-card {
                position: static;
            }
        }

        @media (max-width: 992px) {
            .main-nav ul {
                position: fixed;
                top: 90px;
                right: 0;
                width: 100%;
                background: white;
                flex-direction: column;
                padding: 2rem;
                box-shadow: var(--shadow-xl);
                transform: translateY(-20px);
                opacity: 0;
                visibility: hidden;
                transition: var(--transition);
                z-index: 999;
            }
            .main-nav ul.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }
            .mobile-menu { display: block; }
            .swiper-container { height: 400px; }
            .product-title { font-size: 2rem; }
        }

        @media (max-width: 768px) {
            .main-content { padding: 0 1.5rem; }
            .back-button { top: 90px; right: 1.5rem; }
            .swiper-container { height: 300px; }
            .product-title { font-size: 1.8rem; }
            .current-price { font-size: 2.5rem; }
            .gallery-section,
            .product-details-card,
            .order-card,
            .related-section { padding: 1.5rem; }
            .specs-grid { grid-template-columns: 1fr; }
        }

        @media (max-width: 480px) {
            .logo-title { font-size: 1.5rem; }
            .logo-circle { width: 50px; height: 50px; }
            .product-title { font-size: 1.5rem; }
            .current-price { font-size: 2rem; }
            .meta-item { font-size: 0.9rem; }
            .toast { min-width: auto; width: calc(100% - 40px); }
        }

        /* ============ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± ============ */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--gray-100); border-radius: var(--radius-full); }
        ::-webkit-scrollbar-thumb { background: linear-gradient(135deg, #c53030, #9b2c2c); border-radius: var(--radius-full); }
        ::-webkit-scrollbar-thumb:hover { background: linear-gradient(135deg, #9b2c2c, #c53030); }
    </style>
</head>
<body>
    <!-- Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© -->
    <div class="animated-bg">
        <!-- ... Ù†ÙØ³ Ø§Ù„Ø®Ù„ÙÙŠØ© ... -->
    </div>

    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header class="main-header">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <div class="logo-circle">
                    <i class="fas fa-car"></i>
                </div>
                <div class="logo-text">
                    <div class="logo-title">Ø³ÙŠØ§Ø±Ø§Øª Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡</div>
                    <div class="logo-subtitle">Ø±ÙŠØ§Ø¯Ø© ÙˆØ®Ø¨Ø±Ø© Ù…Ù†Ø° 1993</div>
                </div>
            </a>

            <nav class="main-nav">
                <ul id="mainNav">
                    <li><a href="index.html"><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                    <li><a href="category.html"><i class="fas fa-car"></i> Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</a></li>
                    <li><a href="sell.html"><i class="fas fa-tag"></i> Ø¨ÙŠØ¹ Ø³ÙŠØ§Ø±ØªÙƒ</a></li>
                    <li><a href="exchange.html"><i class="fas fa-exchange-alt"></i> Ø§Ø³ØªØ¨Ø¯Ø§Ù„</a></li>
                </ul>
            </nav>

            <div class="nav-actions">
                <a href="sell.html" class="nav-btn primary">
                    <i class="fas fa-plus"></i> Ø¨ÙŠØ¹ Ø³ÙŠØ§Ø±ØªÙƒ
                </a>
            </div>

            <button class="mobile-menu" id="mobileMenu">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© -->
    <button class="back-button" onclick="goBack()">
        <i class="fas fa-arrow-right"></i>
        Ø§Ù„Ø¹ÙˆØ¯Ø©
    </button>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="main-content" id="mainContent">
        <!-- Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
        <div id="loadingState" style="text-align: center; padding: 4rem;">
            <div class="loading-spinner" style="margin: 0 auto;"></div>
            <p style="margin-top: 1rem; color: var(--gray-600);">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø³ÙŠØ§Ø±Ø©...</p>
        </div>

        <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†ØªØ¬ (ÙŠØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„) -->
        <div id="productContent" style="display: none;">
            <!-- Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± -->
            <div class="gallery-section">
                <div class="swiper-container" id="productGallery">
                    <div class="swiper-wrapper" id="galleryWrapper"></div>
                    <div class="swiper-pagination"></div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
                <div id="noImage" class="no-image" style="display: none;">
                    <i class="fas fa-car"></i>
                    <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ± Ù…ØªØ§Ø­Ø©</p>
                </div>
            </div>

            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬ -->
            <div class="product-info-section">
                <div class="product-details-card">
                    <h1 class="product-title" id="productName"></h1>
                    
                    <div class="product-meta" id="productMeta"></div>
                    
                    <div class="product-badges" id="productBadges"></div>
                    
                    <div class="product-price-box">
                        <div class="price-title">Ø§Ù„Ø³Ø¹Ø±</div>
                        <div>
                            <span class="current-price" id="currentPrice"></span>
                            <span class="old-price" id="oldPrice"></span>
                        </div>
                    </div>
                    
                    <div class="product-description">
                        <h3 class="description-title">
                            <i class="fas fa-file-alt"></i>
                            ÙˆØµÙ Ø§Ù„Ø³ÙŠØ§Ø±Ø©
                        </h3>
                        <div class="description-content" id="productDescription"></div>
                    </div>
                    
                    <div>
                        <h3 class="description-title">
                            <i class="fas fa-list"></i>
                            Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ÙÙ†ÙŠØ©
                        </h3>
                        <div class="specs-grid" id="specsGrid"></div>
                    </div>
                </div>

                <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø·Ù„Ø¨ -->
                <div class="order-card">
                    <h3 class="order-title">
                        <i class="fas fa-shopping-cart"></i>
                        Ø·Ù„Ø¨ Ø´Ø±Ø§Ø¡
                    </h3>
                    <div class="order-price" id="orderPrice"></div>
                    <div class="order-installment" id="installmentInfo"></div>
                    
                    <button class="order-btn" onclick="showOrderModal()">
                        <i class="fas fa-check-circle"></i>
                        Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†
                    </button>
                    <button class="contact-btn" onclick="contactWhatsApp()">
                        <i class="fab fa-whatsapp"></i>
                        Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
                    </button>
                    
                    <div class="seller-info">
                        <div class="seller-title">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¨Ø§Ø¦Ø¹</div>
                        <div class="seller-detail">
                            <i class="fas fa-building"></i>
                            <span>Ù…Ø¹Ø±Ø¶ Ø³ÙŠØ§Ø±Ø§Øª Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡</span>
                        </div>
                        <div class="seller-detail">
                            <i class="fas fa-phone"></i>
                            <span id="sellerPhone">01121811110</span>
                        </div>
                        <div class="seller-detail">
                            <i class="fas fa-map-marker-alt"></i>
                            <span id="sellerAddress">Ø§Ù„Ø¬ÙŠØ²Ø©ØŒ Ù…ØµØ±</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ù…Ù†ØªØ¬Ø§Øª Ù…Ø´Ø§Ø¨Ù‡Ø© -->
            <div class="related-section" id="relatedSection" style="display: none;">
                <h3 class="related-title">
                    <i class="fas fa-car"></i>
                    Ø³ÙŠØ§Ø±Ø§Øª Ù…Ø´Ø§Ø¨Ù‡Ø©
                </h3>
                <div class="related-grid" id="relatedProducts"></div>
            </div>
        </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø´Ø±Ø§Ø¡ -->
    <div class="modal-overlay" id="orderModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Ø¥ØªÙ…Ø§Ù… Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø´Ø±Ø§Ø¡</h2>
                <button class="modal-close" onclick="closeModal('orderModal')">Ã—</button>
            </div>
            <div class="modal-body">
                <form id="orderForm">
                    <input type="hidden" id="orderProductId">
                    
                    <div class="form-group">
                        <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ§Ø±Ø©</label>
                        <input type="text" class="form-control" id="orderProductName" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø³Ø¹Ø±</label>
                        <input type="text" class="form-control" id="orderProductPrice" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label required">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                        <input type="text" class="form-control" id="customerName" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label required">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                        <input type="tel" class="form-control" id="customerPhone" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                        <input type="email" class="form-control" id="customerEmail">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label required">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
                        <input type="text" class="form-control" id="customerCity" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label required">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>
                        <select class="form-control" id="paymentMethod" required>
                            <option value="">Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</option>
                            <option value="cash">ÙƒØ§Ø´</option>
                            <option value="bank">ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ</option>
                            <option value="wallet">Ù…Ø­ÙØ¸Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
                        <textarea class="form-control" id="orderNotes" rows="3"></textarea>
                    </div>
                    
                    <button type="submit" class="order-btn" style="margin-bottom: 0;">
                        <i class="fas fa-check-circle"></i>
                        ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text" id="loadingText">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <!-- Sync JS -->
    <script src="sync.js"></script>
    <script>
        // ============ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… ============
        let siteData = null;
        let currentProduct = null;
        let swiper = null;

        // ============ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© ============
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('ğŸš€ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬...');
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù„Ø¬ÙˆØ§Ù„
            setupMobileMenu();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            await loadData();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬
            await loadProduct();
            
            console.log('âœ… ØµÙØ­Ø© Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø¬Ø§Ù‡Ø²Ø©');
        });

        // ============ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ============
        async function loadData() {
            try {
                if (window.GitHubSync) {
                    const data = await window.GitHubSync.sync();
                    if (data) {
                        siteData = data;
                        window.siteData = data;
                        return;
                    }
                }
                
                const localData = localStorage.getItem('abdullah_cars_data');
                if (localData) {
                    siteData = JSON.parse(localData);
                    window.siteData = siteData;
                    return;
                }
                
                siteData = {
                    products: [],
                    brands: [],
                    mainCategories: [],
                    subCategories: [],
                    contact: {
                        phone: "01121811110",
                        whatsapp: "01121811110",
                        email: "amarmotors850@gmail.com",
                        address: "Ø§Ù„Ø¬ÙŠØ²Ø©ØŒ Ù…ØµØ±"
                    }
                };
                window.siteData = siteData;
                
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
            }
        }

        // ============ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ ============
        async function loadProduct() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            
            if (!productId) {
                showToast('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬', 'error');
                setTimeout(() => {
                    window.location.href = 'category.html';
                }, 2000);
                return;
            }
            
            currentProduct = siteData.products?.find(p => p.id === productId);
            
            if (!currentProduct) {
                showToast('Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯', 'error');
                setTimeout(() => {
                    window.location.href = 'category.html';
                }, 2000);
                return;
            }
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰
            document.getElementById('loadingState').style.display = 'none';
            document.getElementById('productContent').style.display = 'block';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            updateUI();
            
            // ØªØ­Ù…ÙŠÙ„ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø´Ø§Ø¨Ù‡Ø©
            loadRelatedProducts();
        }

        // ============ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ============
        function updateUI() {
            // Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ§Ø±Ø©
            document.getElementById('productName').textContent = currentProduct.name.ar;
            
            // Ø§Ù„Ù…ÙŠØªØ§
            const brand = siteData.brands?.find(b => b.id === currentProduct.brandId);
            const category = siteData.mainCategories?.find(c => c.id === currentProduct.mainCategoryId);
            
            document.getElementById('productMeta').innerHTML = `
                <div class="meta-item">
                    <i class="fas fa-tag"></i>
                    <span>${brand?.name.ar || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-folder"></i>
                    <span>${category?.name.ar || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span>${currentProduct.year || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-gas-pump"></i>
                    <span>${currentProduct.fuel || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>
                </div>
            `;
            
            // Ø§Ù„Ø´Ø§Ø±Ø§Øª
            let badges = '';
            
            if (currentProduct.featured) {
                badges += `<span class="badge featured"><i class="fas fa-star"></i> Ù…Ù…ÙŠØ²</span>`;
            }
            
            if (currentProduct.installment) {
                badges += `<span class="badge installment"><i class="fas fa-credit-card"></i> ØªÙ‚Ø³ÙŠØ· Ù…ØªØ§Ø­</span>`;
            }
            
            if (currentProduct.type) {
                const typeClass = currentProduct.type === 'new' ? 'type-new' : 
                               currentProduct.type === 'used' ? 'type-used' : 'type-electric';
                const typeText = currentProduct.type === 'new' ? 'Ø¬Ø¯ÙŠØ¯' : 
                               currentProduct.type === 'used' ? 'Ù…Ø³ØªØ¹Ù…Ù„' : 'ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ';
                badges += `<span class="badge ${typeClass}"><i class="fas fa-car"></i> ${typeText}</span>`;
            }
            
            document.getElementById('productBadges').innerHTML = badges;
            
            // Ø§Ù„Ø³Ø¹Ø±
            document.getElementById('currentPrice').textContent = `${(currentProduct.price || 0).toLocaleString()} Ø¬.Ù…`;
            document.getElementById('orderPrice').textContent = `${(currentProduct.price || 0).toLocaleString()} Ø¬.Ù…`;
            
            if (currentProduct.oldPrice) {
                document.getElementById('oldPrice').textContent = `${currentProduct.oldPrice.toLocaleString()} Ø¬.Ù…`;
            }
            
            // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙ‚Ø³ÙŠØ·
            if (currentProduct.installment) {
                const installmentAmount = Math.round((currentProduct.price || 0) / 60);
                document.getElementById('installmentInfo').innerHTML = `
                    <i class="fas fa-credit-card"></i>
                    ØªÙ‚Ø³ÙŠØ· Ù…Ø±ÙŠØ­ ÙŠØ¨Ø¯Ø£ Ù…Ù† ${installmentAmount.toLocaleString()} Ø¬.Ù… / Ø´Ù‡Ø±
                `;
            } else {
                document.getElementById('installmentInfo').innerHTML = '';
            }
            
            // Ø§Ù„ÙˆØµÙ
            document.getElementById('productDescription').textContent = currentProduct.description || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù…ØªØ§Ø­';
            
            // Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª
            const specs = [];
            if (currentProduct.model) specs.push({ label: 'Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„', value: currentProduct.model });
            if (currentProduct.engine) specs.push({ label: 'Ø§Ù„Ù…Ø­Ø±Ùƒ', value: currentProduct.engine });
            if (currentProduct.mileage) specs.push({ label: 'Ø§Ù„ÙƒÙŠÙ„ÙˆÙ…ØªØ±Ø§Øª', value: `${currentProduct.mileage.toLocaleString()} ÙƒÙ…` });
            if (currentProduct.colors?.length) specs.push({ label: 'Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ§Ø­Ø©', value: currentProduct.colors.join(' - ') });
            
            document.getElementById('specsGrid').innerHTML = specs.map(spec => `
                <div class="spec-item">
                    <span class="spec-label">
                        <i class="fas fa-circle"></i>
                        ${spec.label}
                    </span>
                    <span class="spec-value">${spec.value}</span>
                </div>
            `).join('');
            
            // Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±
            loadGallery();
            
            // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
            if (siteData.contact) {
                document.getElementById('sellerPhone').textContent = siteData.contact.phone;
                document.getElementById('sellerAddress').textContent = siteData.contact.address;
            }
        }

        // ============ Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± ============
        function loadGallery() {
            const images = currentProduct.images || [];
            const galleryWrapper = document.getElementById('galleryWrapper');
            
            if (images.length === 0) {
                document.getElementById('productGallery').style.display = 'none';
                document.getElementById('noImage').style.display = 'flex';
                return;
            }
            
            document.getElementById('productGallery').style.display = 'block';
            document.getElementById('noImage').style.display = 'none';
            
            galleryWrapper.innerHTML = images.map(img => `
                <div class="swiper-slide">
                    <img src="${img}" alt="${currentProduct.name.ar}">
                </div>
            `).join('');
            
            // ØªÙ‡ÙŠØ¦Ø© Swiper
            if (swiper) swiper.destroy();
            
            swiper = new Swiper('#productGallery', {
                slidesPerView: 1,
                spaceBetween: 0,
                loop: true,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
            });
        }

        // ============ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø´Ø§Ø¨Ù‡Ø© ============
        function loadRelatedProducts() {
            const products = siteData.products || [];
            
            // Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ù†ÙØ³ Ø§Ù„Ù…Ø§Ø±ÙƒØ© Ø£Ùˆ Ø§Ù„ÙØ¦Ø©
            const related = products.filter(p => 
                p.id !== currentProduct.id && 
                (p.brandId === currentProduct.brandId || p.mainCategoryId === currentProduct.mainCategoryId)
            ).slice(0, 4);
            
            if (related.length === 0) {
                document.getElementById('relatedSection').style.display = 'none';
                return;
            }
            
            document.getElementById('relatedSection').style.display = 'block';
            
            document.getElementById('relatedProducts').innerHTML = related.map(p => {
                const brand = siteData.brands?.find(b => b.id === p.brandId);
                const image = p.images?.[0] || 'https://images.unsplash.com/photo-1544636331-e26879cd4d9b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
                
                return `
                    <a href="product-details.html?id=${p.id}" class="related-card">
                        <img src="${image}" alt="${p.name.ar}" class="related-image" onerror="this.src='https://images.unsplash.com/photo-1544636331-e26879cd4d9b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                        <div class="related-info">
                            <div class="related-name">${p.name.ar}</div>
                            <div class="related-price">${(p.price || 0).toLocaleString()} Ø¬.Ù…</div>
                            <div style="color: var(--gray-500); font-size: 0.85rem;">${brand?.name.ar || ''}</div>
                        </div>
                    </a>
                `;
            }).join('');
        }

        // ============ Ø·Ù„Ø¨ Ø§Ù„Ø´Ø±Ø§Ø¡ ============
        function showOrderModal() {
            document.getElementById('orderProductId').value = currentProduct.id;
            document.getElementById('orderProductName').value = currentProduct.name.ar;
            document.getElementById('orderProductPrice').value = `${(currentProduct.price || 0).toLocaleString()} Ø¬.Ù…`;
            
            openModal('orderModal');
        }

        document.getElementById('orderForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const orderData = {
                id: 'order_' + Date.now(),
                productId: currentProduct.id,
                productName: currentProduct.name.ar,
                productPrice: currentProduct.price,
                customerName: document.getElementById('customerName').value,
                customerPhone: document.getElementById('customerPhone').value,
                customerEmail: document.getElementById('customerEmail').value,
                customerCity: document.getElementById('customerCity').value,
                paymentMethod: document.getElementById('paymentMethod').value,
                notes: document.getElementById('orderNotes').value,
                status: 'pending',
                date: new Date().toISOString()
            };
            
            showLoading('Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨...');
            
            try {
                // Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨
                if (!siteData.orders) siteData.orders = [];
                siteData.orders.push(orderData);
                
                // Ø­ÙØ¸ ÙÙŠ localStorage
                localStorage.setItem('abdullah_cars_data', JSON.stringify(siteData));
                localStorage.setItem('last_order', JSON.stringify(orderData));
                
                showToast('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹', 'success');
                closeModal('orderModal');
                
                // ØªÙˆØ¬ÙŠÙ‡ Ù„ØµÙØ­Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯
                setTimeout(() => {
                    window.location.href = `order.html?id=${orderData.id}`;
                }, 1500);
                
            } catch (error) {
                console.error(error);
                showToast('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨', 'error');
            } finally {
                hideLoading();
            }
        });

        // ============ Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ ============
        function contactWhatsApp() {
            const phone = siteData.contact?.whatsapp || '01121811110';
            const formattedPhone = phone.replace(/^0/, '20');
            const message = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø±ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ø³ÙŠØ§Ø±Ø©: ${currentProduct.name.ar}`;
            
            window.open(`https://wa.me/${formattedPhone}?text=${encodeURIComponent(message)}`, '_blank');
        }

        // ============ Ø§Ù„Ø¹ÙˆØ¯Ø© ============
        function goBack() {
            window.history.back();
        }

        // ============ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù„Ø¬ÙˆØ§Ù„ ============
        function setupMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const mainNav = document.getElementById('mainNav');
            
            mobileMenu.addEventListener('click', () => {
                mainNav.classList.toggle('active');
                mobileMenu.innerHTML = mainNav.classList.contains('active') 
                    ? '<i class="fas fa-times"></i>' 
                    : '<i class="fas fa-bars"></i>';
            });
            
            document.addEventListener('click', (e) => {
                if (!mobileMenu.contains(e.target) && !mainNav.contains(e.target)) {
                    mainNav.classList.remove('active');
                    mobileMenu.innerHTML = '<i class="fas fa-bars"></i>';
                }
            });
        }

        // ============ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ ============
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // ============ Toast ============
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            const icons = { success: 'âœ…', error: 'âŒ', warning: 'âš ï¸', info: 'â„¹ï¸' };
            
            toast.innerHTML = `
                <div class="toast-icon">${icons[type] || 'â„¹ï¸'}</div>
                <div class="toast-content">
                    <div class="toast-title">${type === 'success' ? 'Ù†Ø¬Ø§Ø­' : type === 'error' ? 'Ø®Ø·Ø£' : type === 'warning' ? 'ØªØ­Ø°ÙŠØ±' : 'Ù…Ø¹Ù„ÙˆÙ…Ø©'}</div>
                    <div class="toast-message">${message}</div>
                </div>
                <button class="toast-close" onclick="this.parentElement.remove()">Ã—</button>
            `;
            
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 5000);
        }

        // ============ Loading ============
        function showLoading(message) {
            document.getElementById('loadingText').textContent = message;
            document.getElementById('loadingOverlay').classList.add('active');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.remove('active');
        }

        // ============ Ø¯ÙˆØ§Ù„ Ø¹Ø§Ù…Ø© ============
        window.goBack = goBack;
        window.showOrderModal = showOrderModal;
        window.contactWhatsApp = contactWhatsApp;
        window.openModal = openModal;
        window.closeModal = closeModal;
    </script>
</body>
</html>